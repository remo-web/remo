(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{ROvt:function(t,e,o){"use strict";var s=o("F/us"),i=o("EVdn"),n=o("0h2I"),r=o("RN+F"),a=o("ZP6a"),l=o("Yjhd"),h=o("JFZZ"),u=o("IAk5"),d=o("HLSX"),c=o("SQrT"),m=o("xcwT"),g=o("o0Bx"),R=o("olEj"),p=i("html");function b(){m.call(this,"StandardRegisterFormWebclient"),this.sCustomLogoUrl=R.CustomLogoUrl,this.sInfoText=R.InfoText,this.sBottomInfoHtmlText=R.BottomInfoHtmlText,this.login=n.observable(""),this.enableLoginEdit=n.observable(!0),this.password=n.observable(""),this.confirmPassword=n.observable(""),this.loginFocus=n.observable(!1),this.passwordFocus=n.observable(!1),this.confirmPasswordFocus=n.observable(!1),this.loading=n.observable(!1),this.canTryRegister=n.computed((function(){return!this.loading()}),this),this.registerButtonText=n.computed((function(){return this.loading()?r.i18n("COREWEBCLIENT/ACTION_REGISTER_IN_PROGRESS"):r.i18n("COREWEBCLIENT/ACTION_REGISTER")}),this),this.registerCommand=l.createCommand(this,this.register,this.canTryRegister),this.shake=n.observable(!1).extend({autoResetToFalse:800}),this.welcomeText=n.observable(""),u.subscribeEvent("ShowWelcomeRegisterText",s.bind((function(t){this.welcomeText(t.WelcomeText),this.login(t.UserName),this.enableLoginEdit(!1)}),this)),u.broadcastEvent("StandardRegisterFormWebclient::ConstructView::after",{Name:this.ViewConstructorName,View:this})}s.extendOwn(b.prototype,m.prototype),b.prototype.ViewTemplate="StandardRegisterFormWebclient_RegisterView",b.prototype.ViewConstructorName="CRegisterView",b.prototype.onBind=function(){p.addClass("non-adjustable-valign")},b.prototype.onShow=function(){s.delay(s.bind((function(){""===this.login()&&this.loginFocus(!0)}),this),1)},b.prototype.validateForm=function(t,e,o){return""===t?(this.loginFocus(!0),this.shake(!0),!1):""===e?(this.passwordFocus(!0),this.shake(!0),!1):""===e||e===o||(this.confirmPasswordFocus(!0),this.shake(!0),c.showError(r.i18n("COREWEBCLIENT/ERROR_PASSWORDS_DO_NOT_MATCH")),!1)},b.prototype.register=function(){if(!this.loading()){var t=i.trim(this.login()),e=i.trim(this.password()),o=i.trim(this.confirmPassword()),s={Login:t,Password:e};this.validateForm(t,e,o)&&(this.loading(!0),g.send("StandardRegisterFormWebclient","Register",s,this.onRegisterResponse,this))}},b.prototype.onRegisterResponse=function(t,e){!1===t.Result?(this.loading(!1),this.shake(!0),h.showErrorByCode(t,r.i18n("COREWEBCLIENT/ERROR_REGISTRATION_FAILED"))):(u.setAuthToken(t.Result.AuthToken),""!==window.location.search&&null===a.getRequestParam("reset-pass")&&null===a.getRequestParam("invite-auth")&&null===a.getRequestParam("oauth")?a.clearAndReloadLocation(d.ie8AndBelow,!0):a.clearAndReloadLocation(d.ie8AndBelow,!1))},t.exports=new b},olEj:function(t,e,o){"use strict";var s=o("F/us"),i=o("AFLV");t.exports={ServerModuleName:"StandardRegisterFormWebclient",HashModuleName:"register",CustomLogoUrl:"",InfoText:"",BottomInfoHtmlText:"",init:function(t){var e=t.StandardRegisterFormWebclient;s.isEmpty(e)||(this.ServerModuleName=i.pString(e.ServerModuleName,this.ServerModuleName),this.HashModuleName=i.pString(e.HashModuleName,this.HashModuleName),this.CustomLogoUrl=i.pString(e.CustomLogoUrl,this.CustomLogoUrl),this.InfoText=i.pString(e.InfoText,this.InfoText),this.BottomInfoHtmlText=i.pString(e.BottomInfoHtmlText,this.BottomInfoHtmlText))}}},vvqS:function(t,e,o){"use strict";t.exports=function(t){var e=o("IAk5"),s=o("olEj"),i=e.getUserRole()===Enums.UserRole.Anonymous;return s.init(t),!e.isPublic()&&i?e.isMobile()?{getRegisterScreenView:function(){return o("ROvt")},getHashModuleName:function(){return s.HashModuleName}}:{getScreens:function(){var t={};return t[s.HashModuleName]=function(){return o("ROvt")},t}}:null}}}]);