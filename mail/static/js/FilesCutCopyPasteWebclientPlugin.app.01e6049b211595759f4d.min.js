(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"767o":function(t,e,s){"use strict";var i=s("F/us"),o=s("0h2I"),n=s("RN+F"),r=s("Yjhd"),u=s("76Kh"),h=s("1grR");function d(){this.copiedItems=o.observableArray([]),this.cuttedItems=o.observableArray([]),this.pasteTooltip=o.computed((function(){var t=i.union(this.cuttedItems(),this.copiedItems());return t.length>0?n.i18n("FILESCUTCOPYPASTEWEBCLIENTPLUGIN/ACTION_PASTE")+": <br/>"+i.map(t,(function(t){return t.fileName()})).join(",<br/>"):n.i18n("FILESCUTCOPYPASTEWEBCLIENTPLUGIN/ACTION_PASTE")}),this),this.storageType=null,this.getStorageByType=null,this.cutButtonModules=o.observableArray([]),this.pasteButtonModules=o.observableArray([]),this.isDisabledCutButton=o.computed((function(){return this.cutButtonModules().length>0}),this),this.isDisabledPasteButton=o.computed((function(){return this.pasteButtonModules().length>0}),this)}d.prototype.ViewTemplate="FilesCutCopyPasteWebclientPlugin_ButtonsView",d.prototype.useFilesViewData=function(t){this.getStorageByType=i.bind(t.getStorageByType,t),this.storageType=t.storageType,this.listCheckedAndSelected=t.selector.listCheckedAndSelected,this.checkedReadyForOperations=t.checkedReadyForOperations,this.moveItems=i.bind(t.moveItems,t),this.cutCommand=r.createCommand(this,(function(){this.copiedItems([]),this.cuttedItems(this.listCheckedAndSelected()),u.showPopup(h,[n.i18n("FILESCUTCOPYPASTEWEBCLIENTPLUGIN/INFO_ITEMS_CUTTED")])}),(function(){return this.checkedReadyForOperations()&&this.listCheckedAndSelected().length>0&&!this.isDisabledCutButton()})),this.copyCommand=r.createCommand(this,(function(){this.copiedItems(this.listCheckedAndSelected()),this.cuttedItems([]),u.showPopup(h,[n.i18n("FILESCUTCOPYPASTEWEBCLIENTPLUGIN/INFO_ITEMS_COPIED")])}),(function(){return this.checkedReadyForOperations()&&this.listCheckedAndSelected().length>0})),this.pasteCommand=r.createCommand(this,(function(){this.cuttedItems().length>0&&(t.moveItems("Move",t.getCurrentFolder(),this.cuttedItems()),this.cuttedItems([])),this.copiedItems().length>0&&(t.moveItems("Copy",t.getCurrentFolder(),this.copiedItems()),this.copiedItems([]))}),(function(){return(this.cuttedItems().length>0||this.copiedItems().length>0)&&!this.isDisabledPasteButton()})),this.savedItemsCount=o.computed((function(){return this.cuttedItems().length+this.copiedItems().length}),this),t.pathItems.subscribe((function(){var e=t.pathItems().length,s=t.pathItems()[e-1]||!1;(!this.isSharedStorage()||0!==e&&s.oExtendedProps&&s.oExtendedProps.Access&&s.oExtendedProps.Access===Enums.SharedFileAccess.Write)&&this.isDropAllowedToStorage()?this.enableButton(this.pasteButtonModules,"FilesCutCopyPasteWebclientPlugin"):this.disableButton(this.pasteButtonModules,"FilesCutCopyPasteWebclientPlugin"),this.isSharedStorage()&&0!==e&&s.oExtendedProps&&s.oExtendedProps.Access&&s.oExtendedProps.Access!==Enums.SharedFileAccess.Write?this.disableButton(this.cutButtonModules,"FilesCutCopyPasteWebclientPlugin"):this.enableButton(this.cutButtonModules,"FilesCutCopyPasteWebclientPlugin")}),this)},d.prototype.disableButton=function(t,e){-1===t.indexOf(e)&&t.push(e)},d.prototype.enableButton=function(t,e){t.remove(e)},d.prototype.isSharedStorage=function(){return this.storageType()===Enums.FileStorageType.Shared},d.prototype.isDropAllowedToStorage=function(){var t=this.getStorageByType(this.storageType());return!t||!1!==t.droppable},t.exports=new d},QYQq:function(t,e,s){"use strict";t.exports=function(t){return s("IAk5").isUserNormalOrTenant()?{start:function(t){t.run("FilesWebclient","registerToolbarButtons",[s("767o")])}}:null}}}]);